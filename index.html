<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Rubik's Cube</title>
  <style>
    body { margin:0; overflow:hidden; }
    canvas { display:block; }
  </style>
</head>
<body>
<canvas id="canvas"></canvas>

<script type="module">
import * as THREE from 'https://unpkg.com/three@0.152.2/build/three.module.js';

// Renderer
const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById("canvas"), antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);

// Scene & Camera
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x20232a);

const camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 0.1, 100);
camera.position.set(6,6,6);
camera.lookAt(0,0,0);

// Light
const light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(10,10,10);
scene.add(light);

// Function: create small cube with Rubik colors
function createSmallCube(i, j, k) {
  const size = 0.95; // small gap for spacing
  const geometry = new THREE.BoxGeometry(size, size, size);

  // Default all faces black (the cubie base)
  const materials = [
    new THREE.MeshBasicMaterial({ color: 0x000000 }), // +X (right)
    new THREE.MeshBasicMaterial({ color: 0x000000 }), // -X (left)
    new THREE.MeshBasicMaterial({ color: 0x000000 }), // +Y (top)
    new THREE.MeshBasicMaterial({ color: 0x000000 }), // -Y (bottom)
    new THREE.MeshBasicMaterial({ color: 0x000000 }), // +Z (front)
    new THREE.MeshBasicMaterial({ color: 0x000000 })  // -Z (back)
  ];

  // Add stickers depending on position
  if (i === 1) materials[0] = new THREE.MeshBasicMaterial({ color: 0xff8000 }); // right = orange
  if (i === -1) materials[1] = new THREE.MeshBasicMaterial({ color: 0xff0000 }); // left = red
  if (j === 1) materials[2] = new THREE.MeshBasicMaterial({ color: 0xffff00 }); // top = yellow
  if (j === -1) materials[3] = new THREE.MeshBasicMaterial({ color: 0xffffff }); // bottom = white
  if (k === 1) materials[4] = new THREE.MeshBasicMaterial({ color: 0x0000ff }); // front = blue
  if (k === -1) materials[5] = new THREE.MeshBasicMaterial({ color: 0x00ff00 }); // back = green

  const cube = new THREE.Mesh(geometry, materials);
  cube.position.set(i, j, k);
  return cube;
}

// Group all cubes
const rubiksGroup = new THREE.Group();
for (let i=-1; i<=1; i++) {
  for (let j=-1; j<=1; j++) {
    for (let k=-1; k<=1; k++) {
      rubiksGroup.add(createSmallCube(i, j, k));
    }
  }
}
scene.add(rubiksGroup);

// Animate (rotate the whole Rubikâ€™s cube)
function animate() {
  rubiksGroup.rotation.y += 0.01;
  rubiksGroup.rotation.x += 0.005;
  renderer.render(scene,camera);
  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
